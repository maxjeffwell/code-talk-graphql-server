# SpectaQL Configuration
# Generates static documentation for the Code Talk GraphQL API
# Run with: npx spectaql spectaql.yml

spectaql:
  # Output directory for generated documentation
  targetDir: ./docs/api

introspection:
  # Use local schema file (generated with: npx babel-node scripts/export-schema.js)
  schemaFile: ./schema.graphql

  # Query options
  queryNameStrategy: none

info:
  # API metadata displayed in documentation
  title: Code Talk GraphQL API
  description: |
    **Code Talk** is a real-time collaborative coding and messaging platform.

    ## Features

    - **Real-time Messaging**: Send and receive messages instantly via GraphQL subscriptions
    - **Chat Rooms**: Create and join topic-based chat rooms
    - **AI Integration**: Get AI-powered code explanations and documentation
    - **Collaborative Editing**: Real-time code collaboration

    ## Authentication

    The API uses JWT tokens for authentication. Tokens are stored in httpOnly cookies
    after successful sign-in. Include cookies in your requests for authenticated operations.

    Most queries and mutations require authentication. Public endpoints:
    - `aiHealth` - Check AI gateway status

    ## Rate Limiting

    - General API: 100 requests per minute
    - Authentication: 5 attempts per 15 minutes
    - GraphQL: 60 requests per minute

  version: 1.0.0

  contact:
    name: Code Talk API Support
    url: https://github.com/maxjeffwell/code-talk-graphql-server

  license:
    name: MIT
    url: https://opensource.org/licenses/MIT

servers:
  - url: https://code-talk-k8s.el-jefe.me/graphql
    description: Production server
    production: true
  - url: http://localhost:8000/graphql
    description: Local development server
    production: false

# Extensions for additional documentation
extensions:
  generateExamples: true
